<!DOCTYPE html>
<html>
  
<!-- Mirrored from blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 14 Aug 2015 06:45:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
    <title>
    
        Easy WebSockets with Flask and Gevent - miguelgrinberg.com
    
</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="description" content="miguelgrinberg.com">
	<meta name="copyright" content="Copyright (c) 2012-2015 Miguel Grinberg">
	<meta name="author" content="Miguel Grinberg">
    
    <meta name="keywords" content="flask, python, html5, javascript, websocket">
    

    
    <!-- Bootstrap -->
    <link href="../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="../static/prettify.css" type="text/css" rel="stylesheet" />
    <link href="../static/colorbox/colorbox.css" rel="stylesheet" type="text/css" />
    <link href="../static/style.css" rel="stylesheet" type="text/css" />

    <link rel="shortcut icon" href="../static/favicon.ico">
	<link rel="alternate" type="application/rss+xml" href="../feed" title="miguelgrinberg.com RSS feed">

  </head>
  <body>
    
    <!-- facebook sdk -->
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "../../connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <!-- google plus sdk -->
    <script type="text/javascript" src="../../apis.google.com/js/plusone.js"></script>
    <!-- twitter sdk -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="../../platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <!-- linkedin sdk -->
    <script src="../../platform.linkedin.com/in.js" type="text/javascript"></script>

    
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://blog.miguelgrinberg.com/index">miguelgrinberg.com</a>
                </div>
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a href="http://blog.miguelgrinberg.com/index">Home</a></li>
                        <li><a href="about-me.html">About Me</a></li>
                        <li><a href="about-this-blog.html">About This Blog</a></li>
                        
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <p class="navbar-text" style="margin-top: 10px; margin-bottom: 0px;">
                                <a type="application/rss+xml" href="../feed"><img src="../static/rss.png" alt="RSS Feed" title="RSS Feed" /></a>
                                <a href="https://www.facebook.com/miguelgrinbergblog"><img src="../static/facebook.png" alt="Facebook" title="Facebook" /></a>
                                <a href="https://plus.google.com/u/0/117786742456929977820"><img src="../static/googleplus.png" alt="Google+" title="Google+" /></a>
                                <a href="http://www.linkedin.com/in/miguelgrinberg"><img src="../static/linkedin.png" alt="LinkedIn" title="LinkedIn" /></a>
                                <a href="http://github.com/miguelgrinberg"><img src="../static/github.png" alt="GitHub" title="GitHub" /></a>
                                <a href="https://twitter.com/#!/miguelgrinberg"><img src="../static/twitter.png" alt="Twitter" title="Twitter" /></a>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
    </nav>

    
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-md-push-9 sidebar-bg">
                <div id="sidebar">
                    

                    
                    <h1>Building Web APIs with Flask</h1>
                    <p>Flask is the ideal Python framework for building REST APIs that are flexible, easy to maintain and efficient. I have created a training video with O'Reilly in which I show all my techniques:</p>
                    <p><center><a href="http://bit.ly/flaskapi"><img style="border: 1px solid black;" src="../static/flask-api-cover-tiny.png"></a></center></p>
                    <p>Visit <a href="http://flaskbook.com/">http://flaskbook.com</a> for information about this and other Flask training products I have created!</p>
                    

                    <h1>About Miguel</h1>
                    <img style="float: right; margin: 0px 8px 8px 0px; padding: 4px; border: 1px solid #ccc;" src="../static/miguel.jpg" />
                    <p>Welcome to my blog!</p>
                    <p>I'm a software engineer, photographer and filmmaker in Portland, Oregon, USA.</p>
                    <p>You can also find me on <a href="https://www.facebook.com/miguelgrinbergblog">Facebook</a>, <a href="https://plus.google.com/u/0/117786742456929977820">Google+</a>, <a href="http://www.linkedin.com/in/miguelgrinberg">LinkedIn</a>, <a href="https://github.com/miguelgrinberg">Github</a> and <a href="https://twitter.com/#!/miguelgrinberg">Twitter</a>.</p>
                    <p>Thank you for visiting!</p>

                    

                    
                    <h1>Categories</h1>
<ul>

	<li>
		<a href="../category/Arduino/feed">
			<img src="../static/rss-small.png" title="Arduino RSS Feed" label="Arduino RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Arduino.html">Arduino</a></span> (7)
	</li>

	<li>
		<a href="../category/Authentication/feed">
			<img src="../static/rss-small.png" title="Authentication RSS Feed" label="Authentication RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Authentication.html">Authentication</a></span> (4)
	</li>

	<li>
		<a href="../category/Blog/feed">
			<img src="../static/rss-small.png" title="Blog RSS Feed" label="Blog RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Blog.html">Blog</a></span> (1)
	</li>

	<li>
		<a href="../category/C%2b%2b/feed">
			<img src="../static/rss-small.png" title="C++ RSS Feed" label="C++ RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/C%2b%2b.html">C++</a></span> (5)
	</li>

	<li>
		<a href="../category/Cloud/feed">
			<img src="../static/rss-small.png" title="Cloud RSS Feed" label="Cloud RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Cloud.html">Cloud</a></span> (2)
	</li>

	<li>
		<a href="../category/Filmmaking/feed">
			<img src="../static/rss-small.png" title="Filmmaking RSS Feed" label="Filmmaking RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Filmmaking.html">Filmmaking</a></span> (6)
	</li>

	<li>
		<a href="../category/Flask/feed">
			<img src="../static/rss-small.png" title="Flask RSS Feed" label="Flask RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Flask.html">Flask</a></span> (39)
	</li>

	<li>
		<a href="../category/Games/feed">
			<img src="../static/rss-small.png" title="Games RSS Feed" label="Games RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Games.html">Games</a></span> (1)
	</li>

	<li>
		<a href="../category/Gear/feed">
			<img src="../static/rss-small.png" title="Gear RSS Feed" label="Gear RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Gear.html">Gear</a></span> (6)
	</li>

	<li>
		<a href="../category/HTML5/feed">
			<img src="../static/rss-small.png" title="HTML5 RSS Feed" label="HTML5 RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/HTML5.html">HTML5</a></span> (1)
	</li>

	<li>
		<a href="../category/Heroku/feed">
			<img src="../static/rss-small.png" title="Heroku RSS Feed" label="Heroku RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Heroku.html">Heroku</a></span> (1)
	</li>

	<li>
		<a href="../category/Javascript/feed">
			<img src="../static/rss-small.png" title="Javascript RSS Feed" label="Javascript RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Javascript.html">Javascript</a></span> (3)
	</li>

	<li>
		<a href="../category/Movie%20Reviews/feed">
			<img src="../static/rss-small.png" title="Movie Reviews RSS Feed" label="Movie Reviews RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Movie%20Reviews.html">Movie Reviews</a></span> (5)
	</li>

	<li>
		<a href="../category/Netflix/feed">
			<img src="../static/rss-small.png" title="Netflix RSS Feed" label="Netflix RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Netflix.html">Netflix</a></span> (5)
	</li>

	<li>
		<a href="../category/Node.js/feed">
			<img src="../static/rss-small.png" title="Node.js RSS Feed" label="Node.js RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Node.html">Node.js</a></span> (1)
	</li>

	<li>
		<a href="../category/OpenStack/feed">
			<img src="../static/rss-small.png" title="OpenStack RSS Feed" label="OpenStack RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/OpenStack.html">OpenStack</a></span> (1)
	</li>

	<li>
		<a href="../category/Personal/feed">
			<img src="../static/rss-small.png" title="Personal RSS Feed" label="Personal RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Personal.html">Personal</a></span> (1)
	</li>

	<li>
		<a href="../category/Photography/feed">
			<img src="../static/rss-small.png" title="Photography RSS Feed" label="Photography RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Photography.html">Photography</a></span> (6)
	</li>

	<li>
		<a href="../category/Product%20Reviews/feed">
			<img src="../static/rss-small.png" title="Product Reviews RSS Feed" label="Product Reviews RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Product%20Reviews.html">Product Reviews</a></span> (1)
	</li>

	<li>
		<a href="../category/Programming/feed">
			<img src="../static/rss-small.png" title="Programming RSS Feed" label="Programming RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Programming.html">Programming</a></span> (47)
	</li>

	<li>
		<a href="../category/Project%20Management/feed">
			<img src="../static/rss-small.png" title="Project Management RSS Feed" label="Project Management RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Project%20Management.html">Project Management</a></span> (1)
	</li>

	<li>
		<a href="../category/Python/feed">
			<img src="../static/rss-small.png" title="Python RSS Feed" label="Python RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Python.html">Python</a></span> (43)
	</li>

	<li>
		<a href="../category/REST/feed">
			<img src="../static/rss-small.png" title="REST RSS Feed" label="REST RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/REST.html">REST</a></span> (5)
	</li>

	<li>
		<a href="../category/Rackspace/feed">
			<img src="../static/rss-small.png" title="Rackspace RSS Feed" label="Rackspace RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Rackspace.html">Rackspace</a></span> (1)
	</li>

	<li>
		<a href="../category/Raspberry%20Pi/feed">
			<img src="../static/rss-small.png" title="Raspberry Pi RSS Feed" label="Raspberry Pi RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Raspberry%20Pi.html">Raspberry Pi</a></span> (6)
	</li>

	<li>
		<a href="../category/RhinoSteady/feed">
			<img src="../static/rss-small.png" title="RhinoSteady RSS Feed" label="RhinoSteady RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/RhinoSteady.html">RhinoSteady</a></span> (6)
	</li>

	<li>
		<a href="../category/Robotics/feed">
			<img src="../static/rss-small.png" title="Robotics RSS Feed" label="Robotics RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Robotics.html">Robotics</a></span> (6)
	</li>

	<li>
		<a href="../category/Video/feed">
			<img src="../static/rss-small.png" title="Video RSS Feed" label="Video RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Video.html">Video</a></span> (4)
	</li>

	<li>
		<a href="../category/Windows/feed">
			<img src="../static/rss-small.png" title="Windows RSS Feed" label="Windows RSS Feed" />
		</a>
		<span class="label label-primary"><a href="../category/Windows.html">Windows</a></span> (1)
	</li>

</ul>
                    
                </div>
            </div>
            <div class="col-md-8 col-md-pull-4">
                <div id="main">
                    
                    
                    
                    
                    

<div class="post">

<p class="date"><span class="flask-moment" data-timestamp="2014-02-10T03:46:26Z" data-format="format('LL')" data-refresh="0">2014-02-10T03:46:26Z</span></p>
<h1 class="post-title"><a href="easy-websockets-with-flask-and-gevent.html">Easy WebSockets with Flask and Gevent</a></h1>
<div class="posted">Posted by <span class="label label-danger"><a href="http://blog.miguelgrinberg.com/author/Miguel Grinberg">Miguel Grinberg</a></span> under <span class="label label-primary"><a href="../category/Flask.html">Flask</a></span>, <span class="label label-primary"><a href="../category/Python.html">Python</a></span>, <span class="label label-primary"><a href="../category/HTML5.html">HTML5</a></span>, <span class="label label-primary"><a href="../category/Javascript.html">Javascript</a></span>. </div>
<div class="social-bar">
    <table>
        <tr>
            <td><div class="social-box" style="padding-top: 8px;"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-via="miguelgrinberg" data-count="vertical">Tweet</a></div></td>
            <td><div class="social-box" style="padding-left: 6px;"><div class="fb-like" data-href="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-send="false" data-layout="box_count" data-width="450" data-show-faces="false" data-font="verdana"></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><g:plusone href="easy-websockets-with-flask-and-gevent.html" size="tall"></g:plusone></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><script type="IN/Share" data-url="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-counter="top"></script></div></td>
        </tr>
    </table>
</div>
<div class="post_body"><p>This weekend I decided to take a short vacation from my <a href="http://flaskbook.com/">book writing effort</a> and spend time on a project I wanted to work on for a long time. The result of this effort is a brand new Flask extension that I think is pretty cool.</p>
<p>I'm happy to introduce <a href="https://github.com/miguelgrinberg/Flask-SocketIO">Flask-SocketIO</a>, a very easy to use extension that enables WebSocket communications in Flask applications.</p>
<h2>What is WebSocket?</h2>
<p><a href="http://en.wikipedia.org/wiki/WebSocket">WebSocket</a> is a new communication protocol introduced with HTML5, mainly to be implemented by web clients and servers, though it can also be implemented outside of the web.</p>
<p>Unlike HTTP connections, a WebSocket connection is a permanent, bi-directional communication channel between a client and the server, where either one can initiate an exchange. Once established, the connection remains available until one of the parties disconnects from it.</p>
<p>WebSocket connections are useful for games or web sites that need to display live information with very low latency. Before this protocol existed there were other much less efficient approaches to achieve the same result such as <a href="http://en.wikipedia.org/wiki/Comet_(programming)">Comet</a>.</p>
<p>The following web browsers support the WebSocket protocol:</p>
<ul>
<li>Chrome 14</li>
<li>Safari 6</li>
<li>Firefox 6</li>
<li>Internet Explorer 10</li>
</ul>
<h2>What is SocketIO?</h2>
<p><a href="http://socket.io/">SocketIO</a> is a cross-browser Javascript library that abstracts the client application from the actual transport protocol. For modern browsers the WebSocket protocol is used, but for older browsers that don't have WebSocket SocketIO emulates the connection using one of the older solutions, the best one available for each given client.</p>
<p>The important fact is that in all cases the application uses the same interface, the different transport mechanisms are abstracted behind a common API, so using SocketIO you can be pretty much sure that any browser out there will be able to connect to your application, and that for every browser the most efficient method available will be used.</p>
<h2>What about Flask-Sockets?</h2>
<p>A while ago Kenneth Reitz published <a href="https://github.com/kennethreitz/flask-sockets">Flask-Sockets</a>, another extension for Flask that makes the use of WebSocket accessible to Flask applications.</p>
<p>The main difference between Flask-Sockets and Flask-SocketIO is that the former wraps the native WebSocket protocol (through the use of the gevent-websocket project), so it can only be used by the most modern browsers that have native support. Flask-SocketIO transparently downgrades itself for older browsers.</p>
<p>Another difference is that Flask-SocketIO implements the message passing protocol exposed by the SocketIO Javascript library. Flask-Sockets just implements the communication channel, what is sent on it is entirely up to the application.</p>
<p>Flask-SocketIO also creates an environment for event handlers that is close to that of regular view functions, including the creation of application and request contexts. There are some important exceptions to this explained in the documentation, however.</p>
<h2>A Flask-SocketIO Server</h2>
<p>Installation of Flask-SocketIO is very simple:</p>
<pre><code>$ pip install flask-socketio
</code></pre>
<p>Note that Flask-SocketIO depends on gevent, so at this time it can only run on Python 2.x. Support for Python 3 is coming for gevent, so the situation is likely to improve in the near future.</p>
<p>Below is an example Flask application that implements Flask-SocketIO:</p>
<pre><code>from flask import Flask, render_template
from flask.ext.socketio import SocketIO, emit

app = Flask(__name__)
app.config['SECRET_KEY'] = 'secret!'
socketio = SocketIO(app)

@app.route('/')
def index():
    return render_template('index.html')

@socketio.on('my event', namespace='/test')
def test_message(message):
    emit('my response', {'data': message['data']})

@socketio.on('my broadcast event', namespace='/test')
def test_message(message):
    emit('my response', {'data': message['data']}, broadcast=True)

@socketio.on('connect', namespace='/test')
def test_connect():
    emit('my response', {'data': 'Connected'})

@socketio.on('disconnect', namespace='/test')
def test_disconnect():
    print('Client disconnected')

if __name__ == '__main__':
    socketio.run(app)
</code></pre>
<p>The extension is initialized in the usual way, but to simplify the start up of the server a custom <code>run()</code> method is provided by the extension. This method starts gevent, the only supported web server. Using gunicorn with a gevent worker should also work. The <code>run()</code> method takes optional <code>host</code> and <code>port</code> arguments, but by default it will listen on <code>localhost:5000</code> like Flask's development web server.</p>
<p>The only traditional route in this application is <code>/</code>, which serves <code>index.html</code>, a web document that contains the client implementation of this example.</p>
<p>To receive WebSocket messages from the client the application defines event handlers using the <code>socketio.on</code> decorator.</p>
<p>The first argument to the decorator is the event name. Event names <code>'connect'</code>, <code>'disconnect'</code>, <code>'message'</code> and <code>'json'</code> are special events generated by SocketIO. Any other event names are considered custom events. </p>
<p>The <code>'connect'</code> and <code>'disconnect'</code> events are self-explanatory. The <code>'message'</code> event delivers a payload of type string, and the <code>'json'</code> and custom events deliver a JSON payload, in the form of a Python dictionary.</p>
<p>Events can be defined inside a namespace by adding the <code>namespace</code> optional argument to the <code>socketio.on</code> decorator. Namespaces allow a client to open multiple connections to the server that are multiplexed in a single socket. When a namespace is not specified the events are attached to the default global namespace.</p>
<p>To send events a Flask server can use the <code>send()</code> and <code>emit()</code> functions provided by Flask-SocketIO. The <code>send()</code> function sends a standard message of string or JSON type to the client. The <code>emit()</code> function sends a message under a custom event name.</p>
<p>Messages are sent to the connected client by default, but when including the <code>broadcast=True</code> optional argument all clients connected to the namespace receive the message.</p>
<h2>A SocketIO Client</h2>
<p>Ready to try your hand at some Javascript? The <code>index.html</code> page used by the example server contains a little client application that uses jQuery and SocketIO. The relevant code is shown below:</p>
<pre><code>$(document).ready(function(){
    var socket = io.connect('http://' + document.domain + ':' + location.port + '/test');
    socket.on('my response', function(msg) {
        $('#log').append('&lt;p&gt;Received: ' + msg.data + '&lt;/p&gt;');
    });
    $('form#emit').submit(function(event) {
        socket.emit('my event', {data: $('#emit_data').val()});
        return false;
    });
    $('form#broadcast').submit(function(event) {
        socket.emit('my broadcast event', {data: $('#broadcast_data').val()});
        return false;
    });
});
</code></pre>
<p>The <code>socket</code> variable is initialized with a SocketIO connection to the server. Note how the namespace <code>/test</code> is specified in the connection URL. To connect without using a namespace it is sufficient to call <code>io.connect()</code> without any arguments.</p>
<p>The <code>socket.on()</code> syntax is used in the client side to define an event handler. In this example a custom event with name <code>'my response'</code> is handled by adding the <code>data</code> attribute of the message payload to the contents of a page element with id <code>log</code>. This element is defined in the HTML portion of the page.</p>
<p>The next two blocks override the behavior of two form submit buttons so that instead of submitting a form over HTTP they trigger the execution of a callback function.</p>
<p>For the form with id <code>emit</code> the submit handler emits a message to the server with name <code>'my event'</code> that includes a JSON payload with a <code>data</code> attribute set to the value of the text field in that form.</p>
<p>The second form, with id <code>broadcast</code> does the same thing, but sends the data under a different event name called <code>'my broadcast event'</code>.</p>
<p>If you now go back to the server code you can review the handlers for these two custom events. For <code>'my event'</code> the server just echoes the payload back to the client in a message sent under event name <code>'my response'</code>, which is handled by showing the payload in the page. The event named <code>'my broadcast event'</code> does something similar, but instead of echoing back to the client alone it broadcasts the message to all connected clients, also under the <code>'my response'</code> event.</p>
<p>You can view the complete HTML document in the <a href="https://github.com/miguelgrinberg/Flask-SocketIO/blob/master/example/templates/index.html">GitHub repository</a>.</p>
<h2>Running the Example</h2>
<p>To run this example you first need to download the code from GitHub. For this you have two options:</p>
<ul>
<li><a href="https://github.com/miguelgrinberg/Flask-SocketIO">Clone the repository</a> with git</li>
<li><a href="https://codeload.github.com/miguelgrinberg/Flask-SocketIO/zip/master">Download the project</a> as a zip file.</li>
</ul>
<p>The example application is in the <code>example</code> directory, so <code>cd</code> to it to begin.</p>
<p>To keep your global Python interpreter clean it is a good idea to make a virtual environment:</p>
<pre><code>$ virtualenv venv
$ . venv/bin/activate
</code></pre>
<p>Then you need to install the dependencies:</p>
<pre><code>(venv) $ pip install -r requirements.txt
</code></pre>
<p>Finally you can run the application:</p>
<pre><code>(venv) $ python app.py
</code></pre>
<p>Now open your web browser and navigate to <code>http://localhost:5000</code> and you will get a page with two forms as shown in the following screenshot:</p>
<p><center><img src="../static/images/flask-socketio.png"></center></p>
<p>Any text you submit from any of the two text fields will be sent to the server over the SocketIO connection, and the server will echo it back to the client, which will append the message to the "Receive" part of the page, where you can already see the message sent by the <code>'connect'</code> event handler from the server.</p>
<p>Things get much more interesting if you connect a second browser to the application. In my case I'm testing this with Firefox and Chrome, but any two browsers that you run on your machine will do. If you prefer to access the server from multiple machines you can do that too, but you first need to change the start up command to <code>socketio.run(app, host='0.0.0.0')</code> so that the server listens on the public network interface.</p>
<p>With two or more clients when you submit a text from the form on the left only the client that submitted the message gets the echoed response. If you submit from the form on the right the server broadcasts the message to all connected clients, so all get the reply.</p>
<p>If a client disconnects (for example if you close the browser window) the server will detect it a few seconds later and send a disconnect event to the application. The console will print a message to that effect.</p>
<h2>Final Words</h2>
<p>For a more complete description of this extension please read the <a href="http://flask-socketio.readthedocs.org/en/latest/">documentation</a>. If you want to make improvements to it feel free to fork it and then submit a pull request.</p>
<p>I hope you make cool applications with this extension. I can tell you that I had a lot of fun implementing this extension.</p>
<p>If you make something with it feel free to post links in the comments below.</p>
<p>UPDATE: Flask-SocketIO version 0.3 adds support for <em>rooms</em>. This enables targeting subsets of connected users without having to use the broadcast option that sends to everyone.</p>
<p>Miguel</p></div>
<div class="social-bar">
    <table>
        <tr>
            <td><div class="social-box" style="padding-top: 8px;"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-via="miguelgrinberg" data-count="vertical">Tweet</a></div></td>
            <td><div class="social-box" style="padding-left: 6px;"><div class="fb-like" data-href="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-send="false" data-layout="box_count" data-width="450" data-show-faces="false" data-font="verdana"></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><g:plusone href="easy-websockets-with-flask-and-gevent.html" size="tall"></g:plusone></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><script type="IN/Share" data-url="http://blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent" data-counter="top"></script></div></td>
        </tr>
    </table>
</div>


<h4 style="text-align: right"><a name="comments"></a>255 comments</h4>


<div class="comment">
    <ul>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/2e4235cff40c45ee3a6fa6070a353c1bce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#1</span> <span class="label label-primary">JaniG</span> said
                    <span class="flask-moment" data-timestamp="2014-02-14T20:34:31Z" data-format="fromNow(0)" data-refresh="0">2014-02-14T20:34:31Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hi Miguel. Thank you for your great post and work. Is it possible to deploy application with Flask-SocketIO on Heroku?</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#2</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-15T06:06:58Z" data-format="fromNow(0)" data-refresh="0">2014-02-15T06:06:58Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@JaniG: I haven&#39;t tried it, but it should run, gunicorn can be used as the server.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/03e8442d138c2c2caa0794488e8e019fce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#3</span> <span class="label label-primary">jh</span> said
                    <span class="flask-moment" data-timestamp="2014-02-16T23:17:01Z" data-format="fromNow(0)" data-refresh="0">2014-02-16T23:17:01Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">First of all, thanks for the post and extension.

What&#39;s the procedure for using Flask-SocketIO within a blueprint?</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#4</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-16T23:57:54Z" data-format="fromNow(0)" data-refresh="0">2014-02-16T23:57:54Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@jh: As I explain in the article, the socket connection works independently of the regular HTTP based routes, so having blueprints in your application does not change how you work with sockets at all, you can have both coexisting in the same application. You can think of the SocketIO object as a special kind of blueprint that applies to socket communication. Like you do for regular blueprints you can put all the socket based handlers in a separate module or package, that will help keep your project neatly organized.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/47d545529e036682e7075910a2489214ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#5</span> <span class="label label-primary">Pedro Baumann</span> said
                    <span class="flask-moment" data-timestamp="2014-02-17T21:52:02Z" data-format="fromNow(0)" data-refresh="0">2014-02-17T21:52:02Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hello Miguel,

I have been tinckkering with python websockets for the past week and I&#39;ve tried Tornado implementation and this one, I have to say I really like the way your implementation works. The customized messages/broadcasts and callbacks allow building a great and more clear code.

I just started to try to deploy a small app to heroku using gunicorn and it doesn&#39;t let me, it seems it won&#39;t let me set socket.io (node.js module)  as a prerequicite. Hace you got any clue about anywhere I could try this deployment? I&#39;m rather new to python webApps and feel kind of lost here.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#6</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-17T22:02:11Z" data-format="fromNow(0)" data-refresh="0">2014-02-17T22:02:11Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Pedro: socket.io is not a server pre-requisite, your server only needs gevent, gevent-socketio and gevent-websocket. The socket.io Javascript library is used in the client only, so Heroku does not need to be told, just put it in your HTML.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/8edfdbcad18e54290abbbc20609d9666ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#7</span> <span class="label label-primary"><a href="http://blog.miguelgrinberg.com/index">George P.</a></span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T05:54:48Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T05:54:48Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hi! Thanks for all of your tutorials!

Maybe I&#39;m doing something wrong, but when I make two tabs in Google Chrome with the app running on them, only one message goes through, and then it stops. On my initial look, I&#39;m not seeing anything in the code that would make it this case. Thoughts?

Thanks,
George</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#8</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T15:16:05Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T15:16:05Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@George: Not sure. What do you mean by &#34;it stops&#34;? You have to trigger the sending of messages with the buttons. Works fine for me here, I&#39;m using Chrome for Linux right now to test it.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/8edfdbcad18e54290abbbc20609d9666ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#9</span> <span class="label label-primary">George Anthony</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T15:27:59Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T15:27:59Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">So far, it&#39;s only allowed me to send two messages in each browser window: one from the one on the left, one from the one on right.

In the traceback, I&#39;m getting an attributerror:

AttributeError: &#39;SocketIO&#39; has no value &#39;namespace&#39;</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#10</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T15:32:14Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T15:32:14Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@George: you probably have a typo in your script. Compare it with my copy on GitHub.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/8edfdbcad18e54290abbbc20609d9666ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#11</span> <span class="label label-primary">George P.</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T17:51:35Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T17:51:35Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">I had cloned your script from GitHub, gotten dependencies, and ran it.

I downloaded it again and tried it, same result. Just some weird glitch if no one else had an issue like this.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#12</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T18:00:57Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T18:00:57Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Does a single tab work? And what about two different browsers?</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/8edfdbcad18e54290abbbc20609d9666ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#13</span> <span class="label label-primary">George P.</span> said
                    <span class="flask-moment" data-timestamp="2014-02-18T18:05:20Z" data-format="fromNow(0)" data-refresh="0">2014-02-18T18:05:20Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Last comment on here...just wanted to let anyone who runs into this know what I found to fix it:

If you get a traceback that ends in:

File &#34;/Library/Python/2.7/site-packages/flask_socketio.py&#34;, line 122, in dispatch_message
    self.namespace[k] = v
AttributeError: &#39;SocketIO&#39; object has no attribute &#39;namespace&#39;

Please &#34;pip install Flask-SocketIO --upgrade&#34;. Now that I have 0.2.1 instead of 0.1.0, Miguel&#39;s excellent tutorial is running perfectly!

Cheers,
George</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/08b5afa273774e544c82babb7d4c6f51ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#14</span> <span class="label label-primary">Bill</span> said
                    <span class="flask-moment" data-timestamp="2014-02-20T03:47:26Z" data-format="fromNow(0)" data-refresh="0">2014-02-20T03:47:26Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">I was wondering what would be the best way of using a database (sqlite3) combined with this tutorial code, to have lasting realtime data and updates?</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#15</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-20T07:29:56Z" data-format="fromNow(0)" data-refresh="0">2014-02-20T07:29:56Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Bill: For the database you can use your favorite package, be it the native sqlite access, Flask-SQLAlchemy or something else. Adding sockets does not really change things much, the environment in a socket handler is similar to that of a request, so you can use your database just fine.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/6552b796f618fda65c448d7de9c5ca96ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#16</span> <span class="label label-primary">Gianluca Niccolini</span> said
                    <span class="flask-moment" data-timestamp="2014-02-24T16:23:22Z" data-format="fromNow(0)" data-refresh="0">2014-02-24T16:23:22Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">I Have the same issue running Pyhton 2.7.5 on windows.
I&#39;ve downloaded code from github.
</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#17</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-02-24T16:41:02Z" data-format="fromNow(0)" data-refresh="0">2014-02-24T16:41:02Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Gianluca: same issue as who? Can you be more specific?</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/f7a243c0039e8849800da80becbf1635ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#18</span> <span class="label label-primary">Marko Üeli</span> said
                    <span class="flask-moment" data-timestamp="2014-03-04T10:33:40Z" data-format="fromNow(0)" data-refresh="0">2014-03-04T10:33:40Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hi Miguel, thank you for this great Flask extension! I got it nicely working through an nginx proxy with ssl, but I can&#39;t figure out how to push data to the client on server generated events, e.g. in a Redis pub/sub scenario. I would be grateful for a hint. Thanks, Marko</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#19</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-03-04T15:40:21Z" data-format="fromNow(0)" data-refresh="0">2014-03-04T15:40:21Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Marko: If you want the server to initiate an exchange you have to have a way to locate the socket namespace for a given user. In the connect event you can store &#34;request.namespace&#34; in a dictionary indexed by user id, for example. The namespace object has the send() and emit() methods to write to the client.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/f7a243c0039e8849800da80becbf1635ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#20</span> <span class="label label-primary">Marko Üeli</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T12:14:19Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T12:14:19Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thanks Miguel, works fine the way you suggested but I just don&#39;t know *where* to put e.g. Redis pubsub.listen() (or a periodical request to a db) and not block the application main loop. What I want to achieve is to push data to connected users once it becomes available from an external source (redis/db etc). Any idea? Thanks </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/0b76d2bb7537965d26773c1846c9f614ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#21</span> <span class="label label-primary">W.Michael DePeel</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T14:22:36Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T14:22:36Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Miguel, awesome work!  I&#39;m using it for powering the status page of a timeclock, showing the IN/OUT Vacation/Sick statuses of each employee.  

This might be similar to Marko&#39;s question, but I didn&#39;t quite follow your response.  I have a route in flask that, when hit, inserts a time punch for that employee.  It&#39;s at that time that I would want to re-push the status html out to the status page.  So, I want to trigger a socket broadcast event from within a normal flask route.  Is there a way to do that?  

Thanks!  Your tutorial has really helped me get as far as I have with my timeclock, and has laid the foundation for the remainder of my internal projects for my employer.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#22</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T15:27:48Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T15:27:48Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Marko: You need to start a gevent task that listens for events from Redis independently of the application. This task needs to have access to the list of namespaces that the info will then need to be sent.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#23</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T15:32:58Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T15:32:58Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@W.Michael: As long as your view function has access to the socket namespace (the request.namespace object that is made available in socket calls) then you can write stuff just fine. You can store this namespace somewhere during the socket connect event, for example. </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/ef868b0cc4efd233bd48730981e09fa3ce2c.jpeg?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#24</span> <span class="label label-primary">Roo</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T17:50:15Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T17:50:15Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hello,

Thanks for writing this lib - I&#39;m attempting to use it on my first Python project though I am struggling to get my head around using this in my app.

I am building an app on a Raspberry Pi that aims to use HTML/JavaScript for the GUI which willbe navigated by an input device connected to the Pi&#39;s GPIO ports (I&#39;m using a digital encoder with a push-button function as a means to browse and select a username from a set of &lt;ul&gt;&lt;li&gt; elements within the browser)

Using parts from your Flask mega-tutorial I was able to get a dictionary of lists that gets assembled from a comma-separated file hosted on an external server rendered out into HTML by passing the dict on the render_template() function.

Now I need to get events firing from the backend (as a result of the GPIO input) that tells the front end where the user has navigated to. I thought websockets would be perfect for this, but I am stuck at the first hurdle - getting the app that renders the usernames out into HTML and your example to run in tandem.

I have a feeling I need to be using two threads - one for the socketIO stuff and another for generating and rendering the username dict. I will definitely need a third for tracking the GPIO input once I come to implement that (but one step at a time!)

I am unsure how to implement the thread as my function to return the username dict gets called like this:

@app.route(&#39;/&#39;)
def index():
        return render_template(&#34;index.html&#34;, users = user.return_users())

As you&#39;ve probably guessed, I am brand new to Python and pretty new to programming in general. This question is probably out of scope of what you are offering here but I&#39;ve been stuck on this for hours. I&#39;d really appreciate any thoughts, even a helpful link I could read to help me progress.

Thanks

- Roo</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="../../gravatar.com/avatar/0b76d2bb7537965d26773c1846c9f614ce2c.png?s=60&amp;d=identicon" /></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#25</span> <span class="label label-primary">W.Michael DePeel</span> said
                    <span class="flask-moment" data-timestamp="2014-03-05T18:48:03Z" data-format="fromNow(0)" data-refresh="0">2014-03-05T18:48:03Z</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thanks, I&#39;ll try that.  Looking forward to your book!</p>
                </div>
            </div>
        </li>
        
    </ul>
</div>

<div class="page">
<ul class="pager">
  <li class="previous disabled">
    <a href="#">&laquo;&laquo;</a>
  </li>
  <li class="previous disabled">
    <a href="#">&laquo;</a>
  </li>
  <li class="next">
    <a href="easy-websockets-with-flask-and-gevent/page/0.html#comments">&raquo;&raquo;</a>
  </li>
  <li class="next">
    <a href="easy-websockets-with-flask-and-gevent/page/2.html#comments">&raquo;</a>
  </li>
</ul>
</div>

<h3><a name="commentform"></a>Leave a Comment</h3>

<form action="#commentform" method="post"
  class="form" role="form">
  <div style="display:none;"><input id="csrf_token" name="csrf_token" type="hidden" value="1439536762.86##0708e402c55c6d8e3d94f418a3696e5aaa72d590"></div>
  
    
    






<div class="form-group "><label class="control-label" for="name">Name</label>
        <input class="form-control" id="name" name="name" required type="text" value="">
  </div>


    




<div class="form-group "><label class="control-label" for="url">URL</label>
        <input class="form-control" id="url" name="url" type="text" value="">
  </div>


    






<div class="form-group "><label class="control-label" for="email">Email</label>
        <input class="form-control" id="email" name="email" required type="text" value="">
  </div>


    






<div class="form-group "><label class="control-label" for="comment">Comment</label>
        <textarea class="form-control" id="comment" name="comment" required></textarea>
  </div>


    




<div class="form-group "><label class="control-label" for="captcha">Captcha</label>
        
<script type="text/javascript">var RecaptchaOptions = {"custom_translations": {"audio_challenge": "Get an audio challenge", "cant_hear_this": "Download sound as MP3", "help_btn": "Help", "image_alt_text": "reCAPTCHA challenge image", "incorrect_try_again": "Incorrect. Try again.", "instructions_audio": "Type what you hear", "instructions_visual": "Type the text", "play_again": "Play sound again", "privacy_and_terms": "Privacy & Terms", "refresh_btn": "Get a new challenge", "visual_challenge": "Get a visual challenge"}, "theme": "white"};</script>
<script type="text/javascript" src="http://www.google.com/recaptcha/api/challenge?k=6Ld5Zs4SAAAAAOY0DOi4r18bgHlEaz41qAoRf__S"></script>
<noscript>
  <iframe src="http://www.google.com/recaptcha/api/noscript?k=6Ld5Zs4SAAAAAOY0DOi4r18bgHlEaz41qAoRf__S" height="300" width="500" frameborder="0"></iframe><br>
  <textarea name="recaptcha_challenge_field" rows="3" cols="40"></textarea>
  <input type="hidden" name="recaptcha_response_field" value="manual_challenge">
</noscript>

  </div>


    





  


    <input class="btn btn-default" id="submit" name="submit" type="submit" value="Submit">
  





</form>


</div>

                </div>
            </div>
        </div>
        <div id="footer">
            <p class="elapsed">This page was generated in None seconds.</p>
            <p>&copy; 2014 by Miguel Grinberg. All rights reserved. <a href="mailto:webmaster _at_ miguelgrinberg _dot_ com">Questions?</a></p>
        </div>
    </div>


    
    
    <script src="../../cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../../cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="../static/prettify.js"></script>
    <script src="../../cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment-with-langs.min.js"></script>
<script>
function flask_moment_render(elem) {
    $(elem).text(eval('moment("' + $(elem).data('timestamp') + '").' + $(elem).data('format') + ';'));
    $(elem).removeClass('flask-moment');
}
function flask_moment_render_all() {
    $('.flask-moment').each(function() {
        flask_moment_render(this);
        if ($(this).data('refresh')) {
            (function(elem, interval) { setInterval(function() { flask_moment_render(elem) }, interval); })(this, $(this).data('refresh'));
        }
    })
}
$(document).ready(function() {
    flask_moment_render_all();
});
</script>
    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-4777284-15']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
    <script type="text/javascript">
        $(document).ready(function(){
            $(".gallery").colorbox({rel:".gallery",maxWidth:"95%",maxHeight:"95%",scalePhotos:true});
            // add prettyprint class to all <pre><code></code></pre> blocks
            var prettify = false;
            $("pre code").parent().each(function() {
                $(this).addClass('prettyprint');
                prettify = true;
            });
            prettyPrint();
        });
    </script>


  </body>

<!-- Mirrored from blog.miguelgrinberg.com/post/easy-websockets-with-flask-and-gevent by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 14 Aug 2015 06:46:01 GMT -->
</html>
